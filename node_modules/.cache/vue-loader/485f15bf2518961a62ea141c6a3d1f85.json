{"remainingRequest":"/var/www/html/sistema_Stock/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/sistema_Stock/src/components/ViewArticles.vue?vue&type=style&index=0&id=1aa9bf32&scoped=true&lang=css&","dependencies":[{"path":"/var/www/html/sistema_Stock/src/components/ViewArticles.vue","mtime":1624908981984},{"path":"/var/www/html/sistema_Stock/node_modules/css-loader/dist/cjs.js","mtime":1624905330544},{"path":"/var/www/html/sistema_Stock/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1624905346840},{"path":"/var/www/html/sistema_Stock/node_modules/postcss-loader/src/index.js","mtime":1624905341828},{"path":"/var/www/html/sistema_Stock/node_modules/cache-loader/dist/cjs.js","mtime":1624905329560},{"path":"/var/www/html/sistema_Stock/node_modules/vue-loader/lib/index.js","mtime":1624905346840}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWVzc2FnZUVycm9yewogIHBhZGRpbmc6MTBweDsKICBjb2xvcjojZmZmZmZmOwogIGJhY2tncm91bmQtY29sb3I6ICNiODNlMzU7CiAgZm9udC1zaXplOiAxNHB4Owp9Cmgze3RleHQtYWxpZ246IGNlbnRlcjtmbGV4OjE7fQouYnRuIHtiYWNrZ3JvdW5kLWNvbG9yOiAjNDc2ZjdlO30KLmJ0bjpob3ZlciB7YmFja2dyb3VuZC1jb2xvcjogIzJhNDc1Mjt9CgovKiBFU1RJTE9TIE1PREFMICovCi5tb2RhbC1tYXNrIHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgei1pbmRleDogOTk5ODsKICB0b3A6IDA7CiAgbGVmdDogMDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogIGRpc3BsYXk6IHRhYmxlOwogIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlOwp9CgoubW9kYWwtd3JhcHBlciB7IGRpc3BsYXk6IHRhYmxlLWNlbGw7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7fQoKLm1vZGFsLWNvbnRhaW5lciB7CiAgd2lkdGg6IDMwMHB4OwogIGhlaWdodDogMTIwcHg7CiAgbWFyZ2luOiAwcHggYXV0bzsKICBwYWRkaW5nOiAyMHB4IDMwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4zMyk7CiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICBmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQoKLm1vZGFsLWhlYWRlciBoMyB7bWFyZ2luOiAxMHB4O2NvbG9yOiAjNDJiOTgzO30KCi5tb2RhbC1lbnRlciB7b3BhY2l0eTogMH0KCi5tb2RhbC1sZWF2ZS1hY3RpdmUge29wYWNpdHk6IDA7fQoKLm1vZGFsLWVudGVyIC5tb2RhbC1jb250YWluZXIsLm1vZGFsLWxlYXZlLWFjdGl2ZSAubW9kYWwtY29udGFpbmVyIHsKICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS4xKTsKICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7Cn0KCi5jb250YWluZXJ7dGV4dC1hbGlnbjogY2VudGVyO21hcmdpbi10b3A6MTBweDt9Ci5pY29ue2N1cnNvcjpwb2ludGVyO21hcmdpbi1yaWdodDoxMHB4O30KLmktYmFja3ttYXJnaW4tcmlnaHQ6IDEycHg7fQoud2hpdGUtdGV4dHt0ZXh0LWRlY29yYXRpb246IG5vbmU7dGV4dC1hbGlnbjogbGVmdDt9Ci5jYXJkLXBhbmVse3BhZGRpbmctbGVmdDogNTBweDt9Ci50ZWFse2JhY2tncm91bmQtY29sb3I6ICMyMjJkMzEgIWltcG9ydGFudDt9Ci5yb3cgLmNvbC5tNXttYXJnaW4tbGVmdDogMjgwcHg7fQoueWVzYnRue21hcmdpbjogMTBweCAxMHB4IDAgMDt9Ci5idG57bWFyZ2luOiAxMHB4IDEwcHggMCAwO30KLnJvd1RpdGxle2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7fQo="},{"version":3,"sources":["ViewArticles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewArticles.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n\t<div class=\"rowTitle\">\n\t\t<h3>ARTÍCULOS</h3>\n\t\t<a class=\"waves-effect waves-light btn btnAdd\" v-if=\"ModalAction==1\" @click=\"actionAdd()\">Añadir Artículo</a>\n\t</div>\n \n    <ADDArticle v-if='ModalAction==2'/>\n\n    <!--Mensaje Borrar rubro-->\n    <div v-show=\"viewMessageDelete == true\">\n      <span class=\"messageError\"><font-awesome-icon class=\"icon\" :icon=\"['fas','trash']\"></font-awesome-icon> {{messaggeAdd.Estado}} - {{messaggeAdd.Mensaje}}</span>\n    </div>\n\n    <div class=\"table-article\" v-if='ModalAction == 1 | ModalAction == 5'>\n      <table class=\"striped\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Artículo</th>\n            <th>Precio</th>\n            <th>Stock Minimo</th>\n            <th>Stock Máximo</th>\n            <th>Fecha Vencimiento</th>\n            <th>Rubro</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr v-for=\"(article, index) in dataPaged\" :key=\"index\">\n            <td>{{ article.id }}</td>\n            <td><b>{{ article.nameArticle }}</b></td>\n            <td>$ {{ article.priceArticle }}</td>\n            <td>{{ article.stockMinArticle }}</td>\n            <td>{{ article.stockMaxArticle }}</td>\n            <td>{{ article.dateExpirationArt }}</td>\n            <td>{{ article.category_id }}</td>\n            <td><font-awesome-icon @click=\"showModalDelete(article.id)\" class='icon' style=\"color:red;\" :icon=\"['fas', 'trash']\" /></td>\n            <td><font-awesome-icon @click=\"articleSelected(article.id,4)\" class='icon' style=\"color:blue;\" :icon=\"['fas', 'edit']\" /></td>\n            <td><font-awesome-icon @click=\"articleSelected(article.id,3)\" class='icon' style=\"color:gray;\" :icon=\"['fas', 'eye']\" /></td>\n          </tr>\n        </tbody>\n      </table>\n      \n\t<ul class=\"pagination\">\n\t\t<li v-on:click=\"previousPage()\"><a href=\"#!\"><i class=\"material-icons\">chevron_left</i></a></li>\n\t\t<li v-for=\"(page,index) of totalPages()\" :key=\"index\" v-on:click=\"getDataPage(page)\" :class=\"isActive(page)\"><a href=\"#!\">{{page}}</a></li>\n\t\t<li class=\"waves-effect\" v-on:click=\"nextPage()\"><a href=\"#!\"><i class=\"material-icons\">chevron_right</i></a></li>\n\t</ul>\n    </div>\n\n    <!-- Mostrar info de un artículo -->\n    <div class=\"center-align\" v-show=\"ModalAction==3\">\n      <div class=\"row\">\n        <div class=\"col s12 m5\">\n          <div class=\"card-panel teal\">\n            <h5 class=\"white-text\"><b>Información del artículo</b></h5>\n            <li class=\"white-text\">ID: {{ articleSelect.id }}</li>\n            <li class=\"white-text\">ARTÍCULO: {{ articleSelect.nameArticle }}</li>\n            <li class=\"white-text\">PRECIO: $ {{ articleSelect.priceArticle }}</li>\n            <li class=\"white-text\">STOCK MIN: {{ articleSelect.stockMinArticle }}</li>\n            <li class=\"white-text\">STOCK MAX: {{ articleSelect.stockMaxArticle }}</li>\n            <li class=\"white-text\">FECHA VENCIMIENTO: {{ articleSelect.dateExpirationArt }}</li>\n            <li class=\"white-text\">RUBRO: {{ articleSelect.category_id }}</li>\n            <div class=\"right-align \">\n              <a @click=\"returnShowModal()\" class=\"btn-floating waves-effect waves-light red\"><font-awesome-icon class='icon i-back' :icon=\"['fas', 'undo']\"/></a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Modal eliminar -->\n    <div v-if=\"ModalAction == 5\">\n      <transition name=\"modal\">\n        <div class=\"modal-mask\">\n          <div class=\"modal-wrapper\">\n            <div class=\"modal-container center-align\">\n\n              <div class=\"modal-header\">\n                <slot name=\"header\">\n                  ¿Desea borrar el rubro?\n                </slot>\n              </div>\n\n              <div class=\"modal-footer\">\n                <slot name=\"footer\">\n                  <a class=\"waves-effect waves-light btn red yesbtn\" @click=\"deleteArticle()\">SI</a>\n                  <a class=\"waves-effect waves-light btn grey darken-1\" @click=\"ModalAction= ModalAction-4\">NO</a>\n                </slot>\n              </div>\n            </div>\n          </div>\n        </div>\n      </transition>\n    </div>\n\n    <!-- Modal editar -->\n    <div v-if=\"ModalAction == 4\">\n      <div class=\"row form\">\n        <form class=\"col s12\">\n          <div class=\"row\">\n            <div class=\"col s6\">\n              <label>Nombre Artículo</label>\n              <input v-model=\"dataEdit.nameArticle\" type=\"text\" class=\"validate\" :placeholder=\"[articleSelect.nameArticle]\">\n            </div>\n            \n            <div class=\"col s6\">\n              <label>Precio</label>\n              <input v-model=\"dataEdit.priceArticle\" type=\"number\" class=\"validate\" :placeholder=\"[articleSelect.priceArticle]\">\n            </div>\n            \n            <div class=\"col s6\">\n              <label>Stock Minimo</label>\n              <input v-model=\"dataEdit.stockMinArticle\" type=\"number\" class=\"validate\" :placeholder=\"[articleSelect.stockMinArticle]\">\n            </div>\n          \n            <div class=\"col s6\">\n              <label>Stock Máximo</label>\n              <input v-model=\"dataEdit.stockMaxArticle\" type=\"number\" class=\"validate\" :placeholder=\"[articleSelect.stockMaxArticle]\">\n            </div>\n\n            <div class=\"col s6\">\n              <label>Fecha de Vencimiento</label><br>\n              <input v-model=\"date\" type=\"date\" class=\"validate\" :placeholder=\"[articleSelect.dateExpirationArt]\">\n            </div>\n\n            <div class=\"col s6\">\n              <v-select v-model=\"dataEdit.category_id\" :value=\"dataEdit.category_id\" :options=\"categories\" label=\"nameCategory\"></v-select>\n            </div>\n          </div> \n            <a class=\"waves-effect waves-light btn lime darken-1\" @click=\"editArticle()\">Editar Artículo</a><br>\n            <br><a @click=\"ModalAction= ModalAction-3\">No quiero editar el artículo</a>\n        </form>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport ApiRest from \"@/mixins/ApiRest.vue\";\nimport ADDArticle from \"../components/ADDArticle.vue\";\n\nexport default {\n  mixins: [ApiRest],\n  components:{\n    ADDArticle,\n  },\n  data() {\n    return {\n      articles: [],\n      categories: [],\n      ModalAction:1,\n      OpenModal: false,\n      OpenModalShow: false,\n      showModal:false,\n      messaggeAdd:[],\n      viewMessageDelete:false,\n      viewMessage:false,\n      viewMessageError:false,\n\n      param:'articles',\n      idArticle:0,\n      option:0,\n      articleSelect: [],\n\n      // Contenido Artículo\n      dataEdit:{\n        nameArticle: \"\",\n        priceArticle: 0,\n        stockMinArticle: 0,\n        stockMaxArticle: 0,\n        dateExpirationArt: new Date(),\n        category_id: 0,\n      },\n        date:'',\n        dataPage:[],\n        \n       // Paginación\n\t\tarticlesForPage: 5,\n\t\tdataPaged:[],\n\t\tpageCurrent:1\n              \n    };\n  },\n  created() {\n    this.getInfo(this.param).then((res) => {\n      this.articles = res;\n      this.getDataPage(1)\n    });\n  },\n  methods:{\n    // Methods CRUD (Salvo Añadir articulo)\n    articleSelected(idArticle,option){\n\n      if(option==3){ // Selecciono el icono de mostrar info de artículo\n        this.ModalAction = 3\n\n        this.idArticle = idArticle\n        this.getElementById(this.param,this.idArticle).then((res)=>{\n          this.articleSelect = res;\n        })\n      }else if (option == 4) {// Selecciono el icono de editar artículo\n        this.ModalAction = 4\n        \n        this.idArticle = idArticle\n        this.getElementById(this.param,this.idArticle).then((res)=>{\n\t\t\tthis.articleSelect = res;\n        });\n        this.getInfo(\"categories\").then((res) => {\n          this.categories = res;\n        })\n      }\n    },    \n    returnShowModal(){\n      this.ModalAction=1\n    },\n    // Añadir artículo\n    actionAdd(){\n      this.ModalAction = 2\n    },\n    showModalDelete(id){ \n      this.idArticle = id \n      this.ModalAction = 5\n    },\n    deleteArticle(){\n      this.deleteElement(this.param,this.idArticle).then((res) => {\n        this.showModal = false\n\n        if(res.Estado == 'Satisfactorio'){\n          this.messaggeAdd = res\n          this.viewMessageDelete = true\n          setTimeout(() => this.viewMessageDelete = false, 5000);\n          this.viewMessage = false\n        }\n      });\n\n      this.getInfo(this.param).then((res) => {\n        this.articles = res;\n        this.ModalAction = 1;\n      });\n    },\n    editArticle(){\n\t\tthis.dataEdit.category_id = this.categories.indexOf(this.dataEdit.category_id)\n\t\tthis.dataEdit.category_id = this.dataEdit.category_id + 1\n\n\t\tthis.dataEdit.dateExpirationArt = this.date\n\t\tthis.dataEdit.dateExpirationArt = this.dataEdit.dateExpirationArt.toString(\"yyyy-mm-dd\");\n\t\t\n\t\tthis.editElement(this.param,this.idArticle,this.dataEdit).then((res)=>{\n\t\t\tthis.articles = res;\n\t\t\tthis.ModalAction = 1;\n\t\t});\n\t\t\n\t\tthis.getInfo(this.param).then((res) => {\n\t\t\tthis.articles = res;\n\t\t});\n\t\t\n\t},\n\t\n\t// Paginación\n\t\n\ttotalPages(){\n\t\treturn Math.ceil(this.articles.length / this.articlesForPage)\n\t},\n\tgetDataPage(numberPage){\n\t\tthis.dataPaged = []\n\t\tlet inicio = (numberPage * this.articlesForPage) - this.articlesForPage\n\t\tlet fin = (numberPage * this.articlesForPage)\n\t\tthis.dataPaged = this.articles.slice(inicio,fin)\n\t},\n\tpreviousPage(){\n\t\tif(this.pageCurrent > 1){\n\t\t\tthis.pageCurrent--\n\t\t}\n\t\tthis.getDataPage(this.pageCurrent)\n\t},\n\tnextPage(){\n\t\tif(this.pageCurrent < this.totalPages()){\n\t\t\tthis.pageCurrent++\n\t\t}\n\t\tthis.getDataPage(this.pageCurrent)\n\t},\n\tisActive(numberPage){\n\t\tif(numberPage == this.pageCurrent){\n\t\t\treturn 'active'\n\t\t}else{\n\t\t\treturn ''\n\t\t}\n\t}\n  }\n}\n</script>\n\n<style scoped>\n  .messageError{\n    padding:10px;\n    color:#ffffff;\n    background-color: #b83e35;\n    font-size: 14px;\n  }\n  h3{text-align: center;flex:1;}\n  .btn {background-color: #476f7e;}\n  .btn:hover {background-color: #2a4752;}\n\n  /* ESTILOS MODAL */\n  .modal-mask {\n    position: fixed;\n    z-index: 9998;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: table;\n    transition: opacity 0.3s ease;\n  }\n\n  .modal-wrapper { display: table-cell; vertical-align: middle;}\n\n  .modal-container {\n    width: 300px;\n    height: 120px;\n    margin: 0px auto;\n    padding: 20px 30px;\n    background-color: #fff;\n    border-radius: 2px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n    transition: all 0.3s ease;\n    font-family: Helvetica, Arial, sans-serif;\n  }\n\n  .modal-header h3 {margin: 10px;color: #42b983;}\n\n  .modal-enter {opacity: 0}\n\n  .modal-leave-active {opacity: 0;}\n\n  .modal-enter .modal-container,.modal-leave-active .modal-container {\n    -webkit-transform: scale(1.1);\n    transform: scale(1.1);\n  }\n\n  .container{text-align: center;margin-top:10px;}\n  .icon{cursor:pointer;margin-right:10px;}\n  .i-back{margin-right: 12px;}\n  .white-text{text-decoration: none;text-align: left;}\n  .card-panel{padding-left: 50px;}\n  .teal{background-color: #222d31 !important;}\n  .row .col.m5{margin-left: 280px;}\n  .yesbtn{margin: 10px 10px 0 0;}\n  .btn{margin: 10px 10px 0 0;}\n  .rowTitle{display:flex;align-items:center;}\n</style>\n"]}]}