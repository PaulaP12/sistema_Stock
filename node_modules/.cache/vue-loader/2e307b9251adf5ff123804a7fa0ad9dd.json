{"remainingRequest":"/var/www/html/sistema_stock/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/sistema_stock/src/components/ADDArticle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/sistema_stock/src/components/ADDArticle.vue","mtime":1624757778932},{"path":"/var/www/html/sistema_stock/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/sistema_stock/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcGlSZXN0IGZyb20gIkAvbWl4aW5zL0FwaVJlc3QudnVlIjsKaW1wb3J0IE0gZnJvbSAibWF0ZXJpYWxpemUtY3NzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6W0FwaVJlc3RdLAogIG1vdW50ZWQoKSB7CiAgICBNLkF1dG9Jbml0KCk7CiAgfSwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgICAgY2F0ZWdvcmllczpbXSwKICAgICAgICBwYXJhbTonY2F0ZWdvcmllcycsCiAgICAgICAgbWVzc2FnZVNlbmQ6W10sCiAgICAgICAgRXJyb3JNZXNzYWdlOmZhbHNlLAogICAgICAgIFNhdGlzZmFjdG9yaWx5TWVzc2FnZTpmYWxzZSwKICAgICAgICBlZGl0Q2xpY2s6ZmFsc2UsCgogICAgICAgIGRhdGFOZXdBZGQ6ewogICAgICAgICAgbmFtZUFydGljbGU6ICIiLAogICAgICAgICAgcHJpY2VBcnRpY2xlOiAwLAogICAgICAgICAgc3RvY2tNaW5BcnRpY2xlOiAwLAogICAgICAgICAgc3RvY2tNYXhBcnRpY2xlOiAwLAogICAgICAgICAgZGF0ZUV4cGlyYXRpb25BcnQ6IG5ldyBEYXRlKCksCiAgICAgICAgICBjYXRlZ29yeV9pZDogMCwKICAgICAgICB9LAogICAgICAgIGRhdGU6JycsCiAgICB9CiAgfSwKICBjcmVhdGVkKCl7CiAgICB0aGlzLmdldEluZm8odGhpcy5wYXJhbSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gcmVzOwogICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IHRoaXMuY2F0ZWdvcmllcy5tYXAoKGEpPT5hLm5hbWVDYXRlZ29yeSkKICAgICAgfSkKICB9LAogIG1ldGhvZHM6ewogICAgYWRkQXJ0aWNsZSgpewogICAgICB0aGlzLmRhdGFOZXdBZGQuY2F0ZWdvcnlfaWQgPSB0aGlzLmNhdGVnb3JpZXMuaW5kZXhPZih0aGlzLmRhdGFOZXdBZGQuY2F0ZWdvcnlfaWQpCiAgICAgIHRoaXMuZGF0YU5ld0FkZC5jYXRlZ29yeV9pZCA9IHRoaXMuZGF0YU5ld0FkZC5jYXRlZ29yeV9pZCArIDEKCiAgICAgIHRoaXMuZGF0YU5ld0FkZC5kYXRlRXhwaXJhdGlvbkFydCA9IHRoaXMuZGF0ZQogICAgICB0aGlzLmRhdGFOZXdBZGQuZGF0ZUV4cGlyYXRpb25BcnQgPSB0aGlzLmRhdGFOZXdBZGQuZGF0ZUV4cGlyYXRpb25BcnQudG9TdHJpbmcoInl5eXktbW0tZGQiKTsKICAgICAgCiAgICAgIHRoaXMuZGF0YU5ld0FkZC5wcmljZUFydGljbGUgPSBwYXJzZUludCh0aGlzLmRhdGFOZXdBZGQucHJpY2VBcnRpY2xlKQogICAgICB0aGlzLmRhdGFOZXdBZGQuc3RvY2tNaW5BcnRpY2xlID0gcGFyc2VJbnQodGhpcy5kYXRhTmV3QWRkLnN0b2NrTWluQXJ0aWNsZSkKICAgICAgdGhpcy5kYXRhTmV3QWRkLnN0b2NrTWF4QXJ0aWNsZSA9IHBhcnNlSW50KHRoaXMuZGF0YU5ld0FkZC5zdG9ja01heEFydGljbGUpCgogICAgICB0aGlzLmFkZEVsZW1lbnQoJ2FydGljbGVzJywgdGhpcy5kYXRhTmV3QWRkKS50aGVuKChyZXMpPT57CiAgICAgICAgaWYgKHJlcyAhPSBudWxsKSB7CiAgICAgICAgICB0aGlzLlNhdGlzZmFjdG9yaWx5TWVzc2FnZSA9IHRydWUKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLlNhdGlzZmFjdG9yaWx5TWVzc2FnZSA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygnYXJ0aWNsZXMnKQogICAgICAgICAgfSwgMzAwMCk7ICAgIAogICAgICAgIH1lbHNlewogICAgICAgICAgdGhpcy5FcnJvck1lc3NhZ2UgPSB0cnVlCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuRXJyb3JNZXNzYWdlID0gZmFsc2UsIDMwMDApOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["ADDArticle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ADDArticle.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n      <div class=\"container\">\n          \n      <div class=\"row form\">\n        <form class=\"col s12\">\n          <div class=\"row\">\n            <div class=\"col s6\">\n              <label>Nombre Artículo</label>\n              <input v-model=\"dataNewAdd.nameArticle\" type=\"text\" class=\"validate\">\n            </div>\n            \n            <div class=\"col s6\">\n              <label>Precio</label>\n              <input v-model=\"dataNewAdd.priceArticle\" type=\"number\" class=\"validate\">\n            </div>\n            \n            <div class=\"col s6\">\n              <label>Stock Minimo</label>\n              <input v-model=\"dataNewAdd.stockMinArticle\" type=\"number\" class=\"validate\">\n            </div>\n          \n            <div class=\"col s6\">\n              <label>Stock Máximo</label>\n              <input v-model=\"dataNewAdd.stockMaxArticle\" type=\"number\" class=\"validate\">\n            </div>\n\n            <div class=\"col s6\">\n              <label>Fecha de Vencimiento</label><br>\n              <input v-model=\"date\" type=\"date\" class=\"validate\">\n            </div>\n\n            <div class=\"col s6\">\n              <label>Rubro</label>\n              <v-select v-model=\"dataNewAdd.category_id\" :value=\"dataNewAdd.category_id\" :options=\"categories\"></v-select>\n            </div>\n          </div> \n            <a v-if=\"!editClick\" @click=\"addArticle()\" class=\"waves-effect waves-light btn green\">Añadir Artículo</a><br>\n            <br><a class=\"backArticle\" @click=\"$router.go('articles')\">No quiero añadir un nuevo artículo</a>\n        </form>\n      </div>\n\n      <div v-if=\"ErrorMessage\">\n        <span class=\"messageError\"><font-awesome-icon class=\"icon\" :icon=\"['fas','exclamation-circle']\"></font-awesome-icon> El articulo no se pudo agregar correctamente</span>\n      </div>\n      <div v-if=\"SatisfactorilyMessage\">\n        <span class=\"message\"><font-awesome-icon class=\"icon\" :icon=\"['fas','check-circle']\"></font-awesome-icon>  Artículo agregado con exito </span>\n      </div>\n\n      </div>\n    </div>\n</template>\n\n<script>\nimport ApiRest from \"@/mixins/ApiRest.vue\";\nimport M from \"materialize-css\";\n\nexport default {\n  mixins:[ApiRest],\n  mounted() {\n    M.AutoInit();\n  },\n  data(){\n    return{\n        categories:[],\n        param:'categories',\n        messageSend:[],\n        ErrorMessage:false,\n        SatisfactorilyMessage:false,\n        editClick:false,\n\n        dataNewAdd:{\n          nameArticle: \"\",\n          priceArticle: 0,\n          stockMinArticle: 0,\n          stockMaxArticle: 0,\n          dateExpirationArt: new Date(),\n          category_id: 0,\n        },\n        date:'',\n    }\n  },\n  created(){\n    this.getInfo(this.param).then((res) => {\n        this.categories = res;\n        this.categories = this.categories.map((a)=>a.nameCategory)\n      })\n  },\n  methods:{\n    addArticle(){\n      this.dataNewAdd.category_id = this.categories.indexOf(this.dataNewAdd.category_id)\n      this.dataNewAdd.category_id = this.dataNewAdd.category_id + 1\n\n      this.dataNewAdd.dateExpirationArt = this.date\n      this.dataNewAdd.dateExpirationArt = this.dataNewAdd.dateExpirationArt.toString(\"yyyy-mm-dd\");\n      \n      this.dataNewAdd.priceArticle = parseInt(this.dataNewAdd.priceArticle)\n      this.dataNewAdd.stockMinArticle = parseInt(this.dataNewAdd.stockMinArticle)\n      this.dataNewAdd.stockMaxArticle = parseInt(this.dataNewAdd.stockMaxArticle)\n\n      this.addElement('articles', this.dataNewAdd).then((res)=>{\n        if (res != null) {\n          this.SatisfactorilyMessage = true\n          setTimeout(() => {\n            this.SatisfactorilyMessage = false\n            this.$router.go('articles')\n          }, 3000);    \n        }else{\n          this.ErrorMessage = true\n          setTimeout(() => this.ErrorMessage = false, 3000);\n        }\n      })\n    },\n  }\n}\n</script>\n\n<style scoped>\n    .form{margin: 10px;}\n    input[type=\"date\"]{width:300px}\n    .input-field input[type=\"search\"] {height: 10px}\n    .messageError{\n      padding:10px;\n      color:#ffffff;\n      background-color: #b83e35;\n      font-size: 14px;\n    }\n    .message{\n      padding:10px;\n      color:#ffffff;\n      background-color: #93dd86;\n    }\n    .btn, .btn-large, .btn-small{margin-top: 10px;}\n</style>\n"]}]}